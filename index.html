<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–∏–º—É–ª—è—Ç–æ—Ä –õ—É–¥–æ–º–∞–Ω–∞ üé∞</title>
    <style>
        :root {
            --bg-color: #1a1a1a;
            --text-color: #e0e0e0;
            --accent: #ffcc00;
            --red: #ff4444;
            --green: #44ff44;
            --panel-bg: #2d2d2d;
        }

        body {
            font-family: 'Courier New', Courier, monospace;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        h1 {
            color: var(--accent);
            text-transform: uppercase;
            text-shadow: 0 0 10px rgba(255, 204, 0, 0.5);
            margin-bottom: 5px;
        }

        .subtitle {
            font-size: 0.8rem;
            color: #888;
            margin-bottom: 20px;
        }

        .game-container {
            width: 100%;
            max-width: 400px;
            background: var(--panel-bg);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            text-align: center;
        }

        /* –°–ª–æ—Ç—ã */
        .slots-window {
            background: #000;
            border: 4px solid var(--accent);
            border-radius: 10px;
            padding: 15px;
            font-size: 3rem;
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
            height: 60px;
            align-items: center;
            overflow: hidden;
        }

        .slot {
            width: 33%;
        }

        /* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */
        .stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 20px;
            text-align: left;
            background: #222;
            padding: 10px;
            border-radius: 8px;
        }

        .stat-item span {
            display: block;
            font-size: 0.8rem;
            color: #888;
        }
        .stat-item strong {
            font-size: 1.2rem;
        }
        .debt { color: var(--red); }
        .balance { color: var(--green); }

        /* –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ */
        .controls {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        input[type="number"] {
            width: 90%;
            padding: 10px;
            background: #333;
            border: 1px solid #555;
            color: #fff;
            border-radius: 5px;
            font-size: 1rem;
            margin: 0 auto;
        }

        button {
            padding: 15px;
            font-size: 1.1rem;
            font-weight: bold;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: transform 0.1s, opacity 0.2s;
        }

        button:active { transform: scale(0.98); }
        button:disabled { opacity: 0.5; cursor: not-allowed; }

        .btn-spin {
            background: linear-gradient(45deg, #ffcc00, #ff9900);
            color: #000;
            box-shadow: 0 0 15px rgba(255, 204, 0, 0.3);
        }

        .btn-loan {
            background: #444;
            color: var(--red);
            border: 1px solid var(--red);
            font-size: 0.9rem;
            padding: 10px;
        }

        .btn-sell {
            background: #444;
            color: #aaa;
            font-size: 0.9rem;
            padding: 10px;
        }

        /* –õ–æ–≥ —Å–æ–æ–±—â–µ–Ω–∏–π */
        #log {
            margin-top: 15px;
            height: 60px;
            font-size: 0.9rem;
            color: #aaa;
            display: flex;
            align-items: center;
            justify-content: center;
            font-style: italic;
        }

        .inventory {
            margin-top: 20px;
            border-top: 1px solid #444;
            padding-top: 10px;
        }
        .inventory h3 { margin: 5px 0; font-size: 1rem; }
        .item-list {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            justify-content: center;
        }
        .item-tag {
            background: #333;
            padding: 5px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            cursor: pointer;
            border: 1px solid #555;
        }
        .item-tag:hover { background: #444; border-color: #888; }

        .game-over-screen {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95);
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 100;
        }
        .game-over-screen h2 { color: var(--red); font-size: 3rem; margin: 0; }
        .game-over-screen p { font-size: 1.5rem; margin: 20px; }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ */
        @keyframes spinAnim {
            0% { transform: translateY(-5px); }
            50% { transform: translateY(5px); }
            100% { transform: translateY(-5px); }
        }
        .spinning .slot {
            animation: spinAnim 0.1s infinite;
            filter: blur(2px);
        }
    </style>
</head>
<body>

    <h1>CASINO 777</h1>
    <div class="subtitle">"–ü–æ–¥–Ω–∏–º–∏ –±–∞–±–ª–∞, –≤—Å–µ —á–µ—Å—Ç–Ω–æ!"</div>

    <div class="game-container">
        <div class="slots-window" id="slotsWindow">
            <div class="slot" id="slot1">üçí</div>
            <div class="slot" id="slot2">üçí</div>
            <div class="slot" id="slot3">üçí</div>
        </div>

        <div class="stats">
            <div class="stat-item">
                <span>–ë–∞–ª–∞–Ω—Å:</span>
                <strong class="balance" id="balanceDisplay">5000 ‚ÇΩ</strong>
            </div>
            <div class="stat-item">
                <span>–î–æ–ª–≥–∏ –ú–§–û:</span>
                <strong class="debt" id="debtDisplay">0 ‚ÇΩ</strong>
            </div>
        </div>

        <div id="log">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –£–¥–∞—á–∏!</div>

        <div class="controls">
            <input type="number" id="betAmount" value="500" min="100" step="100">
            <button class="btn-spin" id="spinBtn" onclick="spin()">–ö–†–£–¢–ò–¢–¨ (SPIN)</button>
            <button class="btn-loan" id="loanBtn" onclick="takeLoan()">–í–∑—è—Ç—å –∑–∞–π–º "–ë—ã—Å—Ç—Ä–æ–î–µ–Ω—å–≥–∏" (+5000‚ÇΩ)</button>
        </div>

        <div class="inventory" id="inventoryBlock">
            <h3>–ò–º—É—â–µ—Å—Ç–≤–æ (–Ω–∞–∂–º–∏, —á—Ç–æ–±—ã –ø—Ä–æ–¥–∞—Ç—å):</h3>
            <div class="item-list" id="itemList">
                </div>
        </div>
    </div>

    <div class="game-over-screen" id="gameOverScreen">
        <h2>GAME OVER</h2>
        <p>–¢—ã –≤—Å—ë –ø—Ä–æ–∏–≥—Ä–∞–ª.</p>
        <p id="finalStats" style="font-size: 1rem; color: #888;"></p>
        <button class="btn-spin" onclick="location.reload()">–ù–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∂–∏–∑–Ω—å</button>
    </div>

    <script>
        // –ò–≥—Ä–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let balance = 5000;
        let debt = 0;
        let isSpinning = false;
        
        // –í–µ—â–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ (–ù–∞–∑–≤–∞–Ω–∏–µ, –¶–µ–Ω–∞)
        let inventory = [
            { name: "iPhone 11 (–±–∏—Ç—ã–π)", price: 8000 },
            { name: "–ó–æ–ª–æ—Ç–∞—è —Ü–µ–ø–æ—á–∫–∞", price: 15000 },
            { name: "–¢–µ–ª–µ–≤–∏–∑–æ—Ä LG", price: 5000 },
            { name: "–ë–∞–±—É—à–∫–∏–Ω —Å–µ—Ä–≤–∏–∑", price: 2000 },
            { name: "–ê–≤—Ç–æ–º–æ–±–∏–ª—å –í–ê–ó 2114", price: 45000 }
        ];

        // –°–∏–º–≤–æ–ª—ã –∏ –∏—Ö "–≤–µ—Å" (—á–µ–º –±–æ–ª—å—à–µ –≤–µ—Å, —Ç–µ–º —á–∞—â–µ –≤—ã–ø–∞–¥–∞–µ—Ç - –¥–ª—è –ø—Ä–æ–∏–≥—Ä—ã—à–∞)
        // üçí - —á–∞—Å—Ç–æ, üçã - —Å—Ä–µ–¥–Ω–µ, 7Ô∏è‚É£ - —Ä–µ–¥–∫–æ, üíé - –¥–∂–µ–∫–ø–æ—Ç
        const symbols = ['üí©', 'üçí', 'üçã', 'üçá', '7Ô∏è‚É£', 'üíé'];
        
        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const elBalance = document.getElementById('balanceDisplay');
        const elDebt = document.getElementById('debtDisplay');
        const elLog = document.getElementById('log');
        const elSlots = [document.getElementById('slot1'), document.getElementById('slot2'), document.getElementById('slot3')];
        const elInventory = document.getElementById('itemList');
        const btnSpin = document.getElementById('spinBtn');
        const inputBet = document.getElementById('betAmount');

        function updateUI() {
            elBalance.textContent = balance + ' ‚ÇΩ';
            elDebt.textContent = debt + ' ‚ÇΩ';
            
            // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
            elInventory.innerHTML = '';
            inventory.forEach((item, index) => {
                let tag = document.createElement('div');
                tag.className = 'item-tag';
                tag.textContent = `${item.name} (+${item.price}‚ÇΩ)`;
                tag.onclick = () => sellItem(index);
                elInventory.appendChild(tag);
            });

            if (inventory.length === 0) {
                elInventory.innerHTML = '<span style="font-size:0.8rem; color:#555">–ü—É—Å—Ç–æ...</span>';
            }
        }

        function log(msg, color = "#aaa") {
            elLog.textContent = msg;
            elLog.style.color = color;
        }

        function getRandomSymbol() {
            // "–ü–æ–¥–∫—Ä—É—Ç–∫–∞": —à–∞–Ω—Å –≤—ã–ø–∞–¥–µ–Ω–∏—è —Ö–æ—Ä–æ—à–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤ –Ω–∏–∂–µ
            const r = Math.random();
            if (r < 0.35) return 'üí©';
            if (r < 0.60) return 'üçí';
            if (r < 0.80) return 'üçã';
            if (r < 0.92) return 'üçá';
            if (r < 0.98) return '7Ô∏è‚É£';
            return 'üíé';
        }

        function spin() {
            if (isSpinning) return;
            
            let bet = parseInt(inputBet.value);
            if (isNaN(bet) || bet <= 0) {
                log("–í–≤–µ–¥–∏—Ç–µ –Ω–æ—Ä–º–∞–ª—å–Ω—É—é —Å—Ç–∞–≤–∫—É!", "#f55");
                return;
            }
            if (bet > balance) {
                log("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤. –ü—Ä–æ–¥–∞–π —á—Ç–æ-–Ω–∏–±—É–¥—å –∏–ª–∏ –∑–∞–π–º–∏.", "#f55");
                return;
            }

            // –°–ø–∏—Å—ã–≤–∞–µ–º —Å—Ç–∞–≤–∫—É
            balance -= bet;
            updateUI();
            
            isSpinning = true;
            btnSpin.disabled = true;
            document.getElementById('slotsWindow').classList.add('spinning');
            log("–ö—Ä—É—Ç–∏–º...", "#ffcc00");

            // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏ –≤—Ä–∞—â–µ–Ω–∏—è
            let spinsCount = 0;
            let spinInterval = setInterval(() => {
                elSlots.forEach(s => s.textContent = symbols[Math.floor(Math.random() * symbols.length)]);
                spinsCount++;
                if (spinsCount > 10) {
                    clearInterval(spinInterval);
                    finalizeSpin(bet);
                }
            }, 100);
        }

        function finalizeSpin(bet) {
            document.getElementById('slotsWindow').classList.remove('spinning');
            
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            const res = [getRandomSymbol(), getRandomSymbol(), getRandomSymbol()];
            elSlots[0].textContent = res[0];
            elSlots[1].textContent = res[1];
            elSlots[2].textContent = res[2];

            // –õ–æ–≥–∏–∫–∞ –≤—ã–∏–≥—Ä—ã—à–∞
            let multiplier = 0;

            // 3 –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö
            if (res[0] === res[1] && res[1] === res[2]) {
                if (res[0] === 'üí©') multiplier = 0; // –õ–æ–ª
                else if (res[0] === 'üçí') multiplier = 3;
                else if (res[0] === 'üçã') multiplier = 5;
                else if (res[0] === 'üçá') multiplier = 10;
                else if (res[0] === '7Ô∏è‚É£') multiplier = 50;
                else if (res[0] === 'üíé') multiplier = 100; // –î–ñ–ï–ö–ü–û–¢
            } 
            // 2 –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö (—É—Ç–µ—à–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–∏–∑, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ üí©)
            else if ((res[0] === res[1] || res[1] === res[2] || res[0] === res[2]) && !res.includes('üí©')) {
                multiplier = 0.5; // –í–æ–∑–≤—Ä–∞—Ç –ø–æ–ª–æ–≤–∏–Ω—ã —Å—Ç–∞–≤–∫–∏
            }

            let winAmount = Math.floor(bet * multiplier);
            balance += winAmount;

            // –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏–≥—Ä—ã
            if (winAmount > bet) {
                log(`–ó–ê–ù–û–°! –í—ã–∏–≥—Ä—ã—à: ${winAmount} ‚ÇΩ`, "#44ff44");
            } else if (winAmount > 0) {
                log(`–ú–∞–ª–µ–Ω—å–∫–∏–π –≤—ã–∏–≥—Ä—ã—à: ${winAmount} ‚ÇΩ`, "#ffff44");
            } else {
                const phrases = ["–ü—É—Å—Ç–æ...", "–ü–æ—á—Ç–∏ –ø–æ–≤–µ–∑–ª–æ...", "–°–ª–æ—Ç —Ö–æ–ª–æ–¥–Ω—ã–π...", "–ù–∞–¥–æ –æ—Ç—ã–≥—Ä–∞—Ç—å—Å—è...", "–ö–∞–∑–∏–Ω–æ –Ω–µ –æ–±–º–∞–Ω–µ—à—å?"];
                log(phrases[Math.floor(Math.random() * phrases.length)], "#ff4444");
            }

            // –ù–∞—á–∏—Å–ª—è–µ–º –ø—Ä–æ—Ü–µ–Ω—Ç—ã –ø–æ –¥–æ–ª–≥—É –∫–∞–∂–¥—ã–π —Å–ø–∏–Ω (5%)
            if (debt > 0) {
                let interest = Math.floor(debt * 0.05);
                debt += interest;
                // –ù–µ –≤—ã–≤–æ–¥–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ, —á—Ç–æ–±—ã –Ω–µ —Å–ø–∞–º–∏—Ç—å, –Ω–æ –¥–æ–ª–≥ —Ä–∞—Å—Ç–µ—Ç –º–æ–ª—á–∞
            }

            isSpinning = false;
            btnSpin.disabled = false;
            updateUI();
            checkGameOver();
        }

        function takeLoan() {
            if (debt > 50000) {
                log("–ö–æ–ª–ª–µ–∫—Ç–æ—Ä—ã —É–∂–µ –≤—ã–µ—Ö–∞–ª–∏. –í–∞–º –±–æ–ª—å—à–µ –Ω–µ –¥–∞—é—Ç.", "#f55");
                return;
            }
            let loanAmount = 5000;
            balance += loanAmount;
            debt += 6500; // –ë–µ—Ä–µ—à—å 5000, –æ—Ç–¥–∞–µ—à—å 6500 —Å—Ä–∞–∑—É
            log("–ó–∞–π–º –≤–∑—è—Ç! –ü—Ä–æ—Ü–µ–Ω—Ç—ã –∫–∞–ø–∞—é—Ç...", "#ffa500");
            updateUI();
        }

        function sellItem(index) {
            let item = inventory[index];
            if(confirm(`–ü—Ä–æ–¥–∞—Ç—å "${item.name}" –∑–∞ ${item.price}‚ÇΩ?`)) {
                balance += item.price;
                inventory.splice(index, 1);
                log(`–í—ã –ø—Ä–æ–¥–∞–ª–∏ ${item.name}. –ï—Å—Ç—å –Ω–∞ —á—Ç–æ –∫—Ä—É—Ç–∏—Ç—å!`, "#44ff44");
                updateUI();
            }
        }

        function checkGameOver() {
            if (balance <= 0 && inventory.length === 0) {
                setTimeout(() => {
                    if (balance <= 0) { // –î–≤–æ–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
                        document.getElementById('gameOverScreen').style.display = 'flex';
                        document.getElementById('finalStats').textContent = `–î–æ–ª–≥ –ø–µ—Ä–µ–¥ –º–∞—Ñ–∏–µ–π: ${debt} ‚ÇΩ`;
                    }
                }, 1000);
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        updateUI();
    </script>
</body>
</html>
