<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Real 2D World Sim</title>
    <style>
        body { margin: 0; overflow: hidden; background: #1a1a1a; font-family: 'Segoe UI', sans-serif; color: white; touch-action: none; }
        canvas { display: block; }

        /* --- –ò–ù–¢–ï–†–§–ï–ô–° --- */
        #ui-layer { position: absolute; top: 10px; left: 10px; pointer-events: none; }
        .stat-box { background: rgba(0, 0, 0, 0.8); padding: 8px 12px; border-radius: 8px; margin-bottom: 5px; display: flex; align-items: center; gap: 10px; font-weight: bold; border: 2px solid #444; box-shadow: 0 4px 6px rgba(0,0,0,0.3); }
        .bar-container { width: 100px; height: 10px; background: #333; border-radius: 5px; overflow: hidden; border: 1px solid #555; }
        .bar-fill { height: 100%; transition: width 0.2s; }
        .bar-hp { background: linear-gradient(to right, #e74c3c, #c0392b); }
        .bar-water { background: linear-gradient(to right, #3498db, #2980b9); }

        /* --- –ö–ù–û–ü–ö–ò –°–ü–†–ê–í–ê --- */
        #controls-layer { position: absolute; top: 10px; right: 10px; display: flex; gap: 10px; }
        .btn { background: linear-gradient(45deg, #f1c40f, #f39c12); border: none; padding: 10px 15px; border-radius: 8px; color: #2c3e50; font-weight: bold; cursor: pointer; box-shadow: 0 4px 0px #d35400; transition: transform 0.1s, box-shadow 0.1s; }
        .btn:active { transform: translateY(4px); box-shadow: 0 0px 0px #d35400; }
        .btn-promo { background: linear-gradient(45deg, #9b59b6, #8e44ad); color: white; box-shadow: 0 4px 0px #6c3483; }
        .btn-promo:active { box-shadow: 0 0px 0px #6c3483; }
        .btn-reset { background: linear-gradient(45deg, #c0392b, #e74c3c); color: white; box-shadow: 0 4px 0px #922b21; }
        .btn-reset:active { box-shadow: 0 0px 0px #922b21; }

        /* --- –ú–û–î–ê–õ–¨–ù–´–ï –û–ö–ù–ê --- */
        .modal { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #2c3e50; padding: 25px; border-radius: 15px; width: 320px; box-shadow: 0 10px 30px rgba(0,0,0,0.8); border: 3px solid #ecf0f1; text-align: center; z-index: 100; }
        .modal h2 { margin-top: 0; color: #f1c40f; text-transform: uppercase; letter-spacing: 1px; }
        .modal-btn { display: flex; justify-content: space-between; width: 100%; padding: 15px; margin: 10px 0; background: #34495e; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem; transition: background 0.2s; }
        .modal-btn:hover { background: #465c71; }
        .close-btn { background: #c0392b; justify-content: center; font-weight: bold; }
        .close-btn:hover { background: #e74c3c; }
        .casino-input { width: 90%; padding: 12px; margin-bottom: 15px; background: #1a252f; border: 2px solid #34495e; color: white; border-radius: 5px; text-align: center; font-size: 1.1rem; }

        /* --- –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø --- */
        #msg { position: absolute; bottom: 20%; left: 50%; transform: translateX(-50%); background: rgba(0,0,0,0.85); padding: 12px 25px; border-radius: 30px; opacity: 0; transition: opacity 0.5s; pointer-events: none; font-weight: bold; border: 2px solid #fff; z-index: 101; }
        #save-indicator { position: absolute; bottom: 10px; right: 10px; font-size: 0.8rem; color: #ccc; opacity: 0; transition: opacity 0.5s; }
    </style>
</head>
<body>

    <canvas id="gameCanvas"></canvas>

    <div id="ui-layer">
        <div class="stat-box">üí∞ <span id="moneyVal">2000</span> ‚Ç∏</div>
        <div class="stat-box" style="font-size: 0.9rem; color:#e74c3c;" id="debtBox"></div>
        <div class="stat-box">üçî <div class="bar-container"><div class="bar-fill bar-hp" id="hungerBar"></div></div></div>
        <div class="stat-box">üíß <div class="bar-container"><div class="bar-fill bar-water" id="thirstBar"></div></div></div>
    </div>

    <div id="controls-layer">
        <button class="btn btn-promo" onclick="enterPromo()">üéÅ –ö–û–î</button>
        <button class="btn btn-reset" onclick="resetSave()" title="–°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å">üóëÔ∏è</button>
    </div>

    <div id="msg">–°–æ–æ–±—â–µ–Ω–∏–µ</div>
    <div id="save-indicator">üíæ –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...</div>

    <div id="modal-work" class="modal">
        <h2>üèóÔ∏è –°—Ç—Ä–æ–π–∫–∞</h2>
        <p>–¢—è–∂–µ–ª—ã–π —Ç—Ä—É–¥, –Ω–æ –ø–ª–∞—Ç—è—Ç —Å—Ä–∞–∑—É.</p>
        <button class="modal-btn" onclick="doWork()"><span>–¢–∞—Å–∫–∞—Ç—å –∫–∏—Ä–ø–∏—á–∏</span><span style="color:#2ecc71">+1000‚Ç∏</span></button>
        <button class="modal-btn close-btn" onclick="closeModal()">–£–π—Ç–∏</button>
    </div>

    <div id="modal-shop" class="modal">
        <h2>üõí –ú–∞–≥–∞–∑–∏–Ω "–ê–∑—ã–∫-–¢—É–ª–∏–∫"</h2>
        <button class="modal-btn" onclick="buyItem('bread', 200, 20, 0)"><span>üçû –•–ª–µ–±</span><span>200‚Ç∏</span></button>
        <button class="modal-btn" onclick="buyItem('cola', 300, 0, 30)"><span>ü•§ –ö–æ–ª–∞</span><span>300‚Ç∏</span></button>
        <button class="modal-btn" onclick="buyItem('doner', 1200, 50, 10)"><span>ü•ô –î–æ–Ω–µ—Ä</span><span>1200‚Ç∏</span></button>
        <button class="modal-btn close-btn" onclick="closeModal()">–í—ã–π—Ç–∏</button>
    </div>

    <div id="modal-bank" class="modal">
        <h2>üè¶ Kaspi Bank</h2>
        <p>–î–æ—Å—Ç—É–ø–Ω—ã–π –ª–∏–º–∏—Ç: 10 000 ‚Ç∏</p>
        <div id="bankStatus" style="margin-bottom:15px; font-weight:bold;"></div>
        <button class="modal-btn" onclick="takeLoan()">–í–∑—è—Ç—å –∫—Ä–µ–¥–∏—Ç (+5000 ‚Ç∏)</button>
        <button class="modal-btn" onclick="repayLoan()">–ü–æ–≥–∞—Å–∏—Ç—å –¥–æ–ª–≥ (-5000 ‚Ç∏)</button>
        <button class="modal-btn close-btn" onclick="closeModal()">–£–π—Ç–∏</button>
    </div>

    <div id="modal-casino" class="modal">
        <h2>üé∞ –ö–∞–∑–∏–Ω–æ "Royal"</h2>
        <input type="number" id="betInput" class="casino-input" placeholder="–°—É–º–º–∞ —Å—Ç–∞–≤–∫–∏">
        <div style="display:flex; gap:10px;">
            <button class="modal-btn" style="background:#c0392b; justify-content:center;" onclick="spinCasino(true)">üî¥ RED (x2)</button>
            <button class="modal-btn" style="background:#2c3e50; justify-content:center; border:2px solid black" onclick="spinCasino(false)">‚ö´ BLACK (x2)</button>
        </div>
        <button class="modal-btn close-btn" onclick="closeModal()">–£–π—Ç–∏</button>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        
        let width, height;
        
        // –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        const defaultState = { x: 0, y: 0, money: 2000, hunger: 100, thirst: 100, debt: 0 };
        // –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
        let player = { x: 0, y: 0, size: 25, speed: 5 }; // –£–≤–µ–ª–∏—á–∏–ª —Å–∫–æ—Ä–æ—Å—Ç—å –∏ —Ä–∞–∑–º–µ—Ä
        let money, hunger, thirst, debt;
        let isGameActive = true;
        let activeModal = null;
        let keys = {};

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–µ–∫–æ—Ä–∞—Ü–∏–π (–¥–µ—Ä–µ–≤—å—è) –æ–¥–∏–Ω —Ä–∞–∑
        let trees = [];

        // –ó–¥–∞–Ω–∏—è (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏ –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥)
        const buildings = [
            { id: 'work', x: 100, y: 150, w: 120, h: 100, wallColor: '#d35400', doorColor: '#a04000', icon: 'üèóÔ∏è', label: '–†–ê–ë–û–¢–ê' },
            { id: 'shop', x: 500, y: 150, w: 120, h: 100, wallColor: '#27ae60', doorColor: '#1e8449', icon: 'üõí', label: '–ú–ê–ì–ê–ó–ò–ù' },
            { id: 'bank', x: 100, y: 500, w: 120, h: 100, wallColor: '#c0392b', doorColor: '#922b21', icon: 'üè¶', label: '–ë–ê–ù–ö' },
            { id: 'casino', x: 500, y: 500, w: 120, h: 100, wallColor: '#8e44ad', doorColor: '#6c3483', icon: 'üé∞', label: '–ö–ê–ó–ò–ù–û' }
        ];

        // --- –°–ò–°–¢–ï–ú–ê –°–û–•–†–ê–ù–ï–ù–ò–Ø ---
        function loadGame() {
            const savedData = localStorage.getItem('realWorldSimSave');
            if (savedData) {
                const data = JSON.parse(savedData);
                money = data.money; hunger = data.hunger; thirst = data.thirst; debt = data.debt;
                player.x = data.x; player.y = data.y;
            } else {
                resetVariables();
            }
        }

        function saveGame() {
            if (!isGameActive) return;
            const state = { money, hunger, thirst, debt, x: player.x, y: player.y };
            localStorage.setItem('realWorldSimSave', JSON.stringify(state));
            const ind = document.getElementById('save-indicator'); ind.style.opacity = 1; setTimeout(() => ind.style.opacity = 0, 1000);
        }

        function resetVariables() {
            money = defaultState.money; hunger = defaultState.hunger; thirst = defaultState.thirst; debt = defaultState.debt;
            player.x = width / 2; player.y = height / 2;
        }

        function resetSave() {
            if(confirm("–¢–æ—á–Ω–æ —É–¥–∞–ª–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É?")) {
                localStorage.removeItem('realWorldSimSave'); location.reload();
            }
        }

        // --- –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ---
        function init() {
            width = window.innerWidth; height = window.innerHeight;
            canvas.width = width; canvas.height = height;
            if (player.x === 0 && player.y === 0) { player.x = width / 2; player.y = height / 2; }
            
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –¥–µ—Ä–µ–≤—å—è, –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç
            if(trees.length === 0) {
                for(let i=0; i<30; i++) {
                    trees.push({ x: Math.random()*width, y: Math.random()*height, scale: 0.8 + Math.random()*0.5 });
                }
            }
        }
        window.addEventListener('resize', init);
        
        loadGame(); init(); updateUI();
        setInterval(saveGame, 5000); // –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ

        // --- –£–ü–†–ê–í–õ–ï–ù–ò–ï ---
        window.addEventListener('keydown', e => keys[e.key] = true);
        window.addEventListener('keyup', e => keys[e.key] = false);
        
        // –£–ª—É—á—à–µ–Ω–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –ø–æ –∫–ª–∏–∫—É/—Ç–∞—á—É (–ø–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–±—ã—Ç–∏–µ)
        let targetX = null, targetY = null;
        canvas.addEventListener('pointerdown', (e) => {
            if (activeModal) return;
            targetX = e.clientX; targetY = e.clientY;
        });

        // --- –ò–ì–†–û–í–û–ô –¶–ò–ö–õ ---
        function update() {
            if (!isGameActive || activeModal) return;

            // –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞
            let dx = 0, dy = 0;
            if (keys['w'] || keys['ArrowUp']) dy -= 1;
            if (keys['s'] || keys['ArrowDown']) dy += 1;
            if (keys['a'] || keys['ArrowLeft']) dx -= 1;
            if (keys['d'] || keys['ArrowRight']) dx += 1;

            // –ï—Å–ª–∏ –µ—Å—Ç—å —Ü–µ–ª—å –æ—Ç –∫–ª–∏–∫–∞ –º—ã—à–∫–æ–π
            if (targetX !== null && targetY !== null) {
                const dist = Math.hypot(targetX - player.x, targetY - player.y);
                if (dist > player.speed) {
                    dx = (targetX - player.x) / dist;
                    dy = (targetY - player.y) / dist;
                } else {
                    targetX = null; targetY = null; // –ü—Ä–∏–±—ã–ª–∏
                }
            }

            // –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è
            if (dx !== 0 && dy !== 0 && targetX === null) {
                const factor = 1 / Math.sqrt(2);
                dx *= factor; dy *= factor;
            }

            player.x += dx * player.speed;
            player.y += dy * player.speed;

            // –ì—Ä–∞–Ω–∏—Ü—ã
            player.x = Math.max(player.size, Math.min(width - player.size, player.x));
            player.y = Math.max(player.size, Math.min(height - player.size/2, player.y));

            checkCollisions();
        }

        function draw() {
            // 1. –ó–ï–ú–õ–Ø (–¢—Ä–∞–≤–∞)
            ctx.fillStyle = '#27ae60'; // –ó–µ–ª–µ–Ω—ã–π
            ctx.fillRect(0, 0, width, height);

            // 2. –î–û–†–û–ì–ò (–ê—Å—Ñ–∞–ª—å—Ç)
            ctx.fillStyle = '#34495e'; // –¢–µ–º–Ω–æ-—Å–µ—Ä—ã–π
            // –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è
            ctx.fillRect(0, height/2 - 60, width, 120);
            // –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è
            ctx.fillRect(width/2 - 60, 0, 120, height);
            
            // –†–∞–∑–º–µ—Ç–∫–∞ –¥–æ—Ä–æ–≥
            ctx.strokeStyle = '#f1c40f'; ctx.lineWidth = 4; ctx.setLineDash([30, 30]);
            ctx.beginPath(); ctx.moveTo(0, height/2); ctx.lineTo(width, height/2); ctx.stroke();
            ctx.beginPath(); ctx.moveTo(width/2, 0); ctx.lineTo(width/2, height); ctx.stroke();
            ctx.setLineDash([]);

            // 3. –î–ï–ö–û–†–ê–¶–ò–ò (–î–µ—Ä–µ–≤—å—è - –∑–∞–¥–Ω–∏–π –ø–ª–∞–Ω)
            ctx.textAlign = 'center'; ctx.textBaseline = 'bottom';
            trees.forEach(t => {
                 ctx.font = `${40 * t.scale}px Arial`;
                 ctx.fillText('üå≥', t.x, t.y);
            });

            // 4. –ó–î–ê–ù–ò–Ø (–£–ª—É—á—à–µ–Ω–Ω—ã–π –≤–∏–¥)
            buildings.forEach(b => {
                // –¢–µ–Ω—å –∑–¥–∞–Ω–∏—è
                ctx.fillStyle = 'rgba(0,0,0,0.3)';
                ctx.fillRect(b.x + 10, b.y + 10, b.w, b.h);
                // –°—Ç–µ–Ω—ã
                ctx.fillStyle = b.wallColor;
                ctx.fillRect(b.x, b.y, b.w, b.h);
                // –ö—Ä—ã—à–∞ (–ª–µ–≥–∫–∏–π –≥—Ä–∞–¥–∏–µ–Ω—Ç –¥–ª—è –æ–±—ä–µ–º–∞)
                ctx.fillStyle = 'rgba(255,255,255,0.1)';
                ctx.fillRect(b.x, b.y, b.w, 15);
                // –î–≤–µ—Ä—å
                ctx.fillStyle = b.doorColor;
                ctx.fillRect(b.x + b.w/2 - 20, b.y + b.h - 40, 40, 40);
                // –ò–∫–æ–Ω–∫–∞ –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ
                ctx.font = '50px Arial'; ctx.textAlign = 'center';
                ctx.fillText(b.icon, b.x + b.w/2, b.y + 50);
                ctx.fillStyle = 'white'; ctx.font = 'bold 14px Arial';
                ctx.fillText(b.label, b.x + b.w/2, b.y - 10);
                // –û–±–≤–æ–¥–∫–∞ –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–∏—è
                ctx.strokeStyle = 'rgba(0,0,0,0.2)'; ctx.lineWidth = 2;
                ctx.strokeRect(b.x, b.y, b.w, b.h);
            });

            // 5. –ò–ì–†–û–ö (–°–ø—Ä–∞–π—Ç —Å —Ç–µ–Ω—å—é)
            // –¢–µ–Ω—å
            ctx.fillStyle = 'rgba(0,0,0,0.4)';
            ctx.beginPath();
            ctx.ellipse(player.x, player.y, player.size/1.5, player.size/3, 0, 0, Math.PI*2);
            ctx.fill();
            // –ß–µ–ª–æ–≤–µ—á–µ–∫
            ctx.font = `${player.size*2}px Arial`; ctx.textAlign = 'center'; ctx.textBaseline = 'bottom';
            ctx.fillText('üèÉ‚Äç‚ôÇÔ∏è', player.x, player.y + 5);
        }

        function loop() { update(); draw(); requestAnimationFrame(loop); }
        loop();

        // --- –õ–û–ì–ò–ö–ê –í–ó–ê–ò–ú–û–î–ï–ô–°–¢–í–ò–Ø ---
        function checkCollisions() {
            // –•–∏—Ç–±–æ–∫—Å –∏–≥—Ä–æ–∫–∞ —á—É—Ç—å –º–µ–Ω—å—à–µ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
            let px = player.x, py = player.y - 10; 
            buildings.forEach(b => {
                // –ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: –µ—Å–ª–∏ —Ü–µ–Ω—Ç—Ä –∏–≥—Ä–æ–∫–∞ –≤–Ω—É—Ç—Ä–∏ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞ –∑–¥–∞–Ω–∏—è
                if (px > b.x && px < b.x + b.w && py > b.y && py < b.y + b.h) {
                    targetX = null; targetY = null; // –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–≤—Ç–æ-–¥–≤–∏–∂–µ–Ω–∏–µ
                    openModal('modal-' + b.id);
                    // –û—Ç—Ç–æ–ª–∫–Ω—É—Ç—å –Ω–∞–∑–∞–¥
                    if (py > b.y + b.h/2) player.y += 30; else player.y -= 30;
                }
            });
        }

        // --- –°–ò–°–¢–ï–ú–ê –ñ–ò–ó–ù–ò ---
        setInterval(() => {
            if (!isGameActive) return;
            hunger = Math.max(0, hunger - 1);
            thirst = Math.max(0, thirst - 2);
            if (hunger <= 0 || thirst <= 0) gameOver();
            updateUI();
        }, 1000);

        function updateUI() {
            document.getElementById('moneyVal').innerText = money.toLocaleString();
            document.getElementById('hungerBar').style.width = hunger + '%';
            document.getElementById('thirstBar').style.width = thirst + '%';
            const debtEl = document.getElementById('debtBox');
            if(debt > 0) { debtEl.style.display = 'flex'; debtEl.innerText = `–î–æ–ª–≥: -${debt.toLocaleString()} ‚Ç∏`; } else { debtEl.style.display = 'none'; }
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤ –±–∞–Ω–∫–µ
            if(document.getElementById('modal-bank').style.display === 'block') {
                 document.getElementById('bankStatus').innerText = `–í–∞—à —Ç–µ–∫—É—â–∏–π –¥–æ–ª–≥: ${debt.toLocaleString()} ‚Ç∏`;
            }
        }

        function showMsg(text, color="#2ecc71") {
            const el = document.getElementById('msg');
            el.innerText = text; el.style.borderColor = color; el.style.opacity = 1;
            setTimeout(() => el.style.opacity = 0, 2000);
        }

        // --- –§–£–ù–ö–¶–ò–ò –ó–î–ê–ù–ò–ô ---
        function openModal(id) { activeModal = id; document.getElementById(id).style.display = 'block'; updateUI(); }
        function closeModal() { if (activeModal) { document.getElementById(activeModal).style.display = 'none'; activeModal = null; } }

        window.doWork = function() {
            if(hunger < 15 || thirst < 15) { showMsg("–°–ª–∏—à–∫–æ–º —Å–ª–∞–±! –ü–æ–µ—à—å.", "#e74c3c"); return; }
            money += 1000; hunger -= 15; thirst -= 15;
            showMsg("+1000 ‚Ç∏ (–£—Å—Ç–∞–ª–æ—Å—Ç—å)"); updateUI();
        }

        window.buyItem = function(type, price, food, water) {
            if (money >= price) {
                money -= price; hunger = Math.min(100, hunger + food); thirst = Math.min(100, thirst + water);
                showMsg("–ö—É–ø–ª–µ–Ω–æ!"); updateUI();
            } else { showMsg("–ù–µ—Ç –¥–µ–Ω–µ–≥!", "#e74c3c"); }
        }

        window.takeLoan = function() {
            if (debt + 5000 > 10000) { showMsg("–õ–∏–º–∏—Ç –ø—Ä–µ–≤—ã—à–µ–Ω!", "#e74c3c"); return; }
            money += 5000; debt += 5000; showMsg("–ö—Ä–µ–¥–∏—Ç –æ–¥–æ–±—Ä–µ–Ω. +5000 ‚Ç∏"); updateUI();
        }
        window.repayLoan = function() {
            if (money >= 5000 && debt >= 5000) {
                money -= 5000; debt -= 5000; showMsg("–î–æ–ª–≥ –ø–æ–≥–∞—à–µ–Ω!", "#3498db"); updateUI();
            } else if (debt < 5000 && debt > 0) { showMsg("–û—Å—Ç–∞—Ç–æ–∫ –¥–æ–ª–≥–∞ –º–µ–Ω—å—à–µ 5000"); } 
            else { showMsg("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤!", "#e74c3c"); }
        }

        window.spinCasino = function(isRed) {
            let bet = parseInt(document.getElementById('betInput').value);
            if (!bet || bet <= 0 || bet > money) { showMsg("–ù–µ–≤–µ—Ä–Ω–∞—è —Å—Ç–∞–≤–∫–∞!", "#e74c3c"); return; }
            money -= bet;
            let win = Math.random() < 0.5;
            if (win) { money += bet * 2; showMsg(`WIN! +${bet*2} ‚Ç∏`, "#f1c40f"); } else { showMsg("LOSE...", "#e74c3c"); }
            updateUI();
        }

        window.enterPromo = function() {
            let code = prompt("–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥:");
            if (!code) return;
            if (code.trim() === "–ú–∏—Ä–∞—Å") { money += 10000; alert("‚úÖ +10,000 ‚Ç∏"); } 
            else if (code.trim() === "GreenGamesStudio") { money += 100000; alert("üëë +100,000 ‚Ç∏"); } 
            else { alert("‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥"); }
            updateUI();
        }

        function gameOver() {
            isGameActive = false;
            localStorage.removeItem('realWorldSimSave'); // –£–¥–∞–ª—è–µ–º —Å–µ–π–≤ –ø—Ä–∏ —Å–º–µ—Ä—Ç–∏
            alert("GAME OVER\n–¢—ã —É–º–µ—Ä –æ—Ç –≥–æ–ª–æ–¥–∞ –∏–ª–∏ –∂–∞–∂–¥—ã. –ü—Ä–æ–≥—Ä–µ—Å—Å —Å–±—Ä–æ—à–µ–Ω.");
            location.reload();
        }
    </script>
</body>
</html>
