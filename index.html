<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–∏–º—É–ª—è—Ç–æ—Ä –ñ–∏–∑–Ω–∏: –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω Edition</title>
    <style>
        :root {
            --bg: #202020;
            --panel: #333;
            --text: #fff;
            --green: #2ecc71;
            --red: #e74c3c;
            --blue: #3498db;
            --yellow: #f1c40f;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
            user-select: none;
        }

        .game-boy {
            width: 380px;
            height: 700px;
            background: #444;
            border-radius: 20px;
            padding: 15px;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            display: flex;
            flex-direction: column;
            position: relative;
        }

        /* –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ */
        .stats-bar {
            background: #111;
            padding: 10px;
            border-radius: 10px;
            margin-bottom: 10px;
            font-size: 0.9rem;
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }

        .money-display { color: var(--green); font-weight: bold; font-size: 1.1rem; }
        .debt-display { color: var(--red); font-size: 0.8rem; }

        .progress-container {
            width: 100%;
            background: #555;
            height: 8px;
            border-radius: 4px;
            margin-top: 2px;
            position: relative;
        }

        .progress-bar {
            height: 100%;
            border-radius: 4px;
            transition: width 0.3s;
        }
        .bar-hunger { background: var(--yellow); width: 100%; }
        .bar-thirst { background: var(--blue); width: 100%; }

        /* –≠–∫—Ä–∞–Ω –ª–æ–∫–∞—Ü–∏–π */
        .screen {
            flex: 1;
            background: #2a2a2a;
            border-radius: 10px;
            padding: 10px;
            overflow-y: auto;
            position: relative;
            border: 2px solid #555;
        }

        .location-title {
            text-align: center;
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: var(--yellow);
            border-bottom: 1px solid #444;
            padding-bottom: 5px;
        }

        /* –°–µ—Ç–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π */
        .grid-menu {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .card {
            background: #3a3a3a;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: 0.1s;
            border: 1px solid #444;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 80px;
        }
        .card:hover { background: #444; border-color: #666; }
        .card:active { transform: scale(0.95); }
        
        .card-icon { font-size: 2rem; margin-bottom: 5px; }
        .card-name { font-size: 0.9rem; font-weight: bold; }

        /* –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –º–µ–Ω—é (—Å–∫—Ä—ã—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) */
        .sub-screen {
            display: none;
            flex-direction: column;
            gap: 10px;
        }
        .sub-screen.active { display: flex; }

        .action-btn {
            padding: 12px;
            background: #555;
            border: none;
            color: white;
            border-radius: 5px;
            cursor: pointer;
            text-align: left;
            display: flex;
            justify-content: space-between;
        }
        .action-btn:hover { background: #666; }
        .action-btn span:last-child { font-weight: bold; color: var(--green); }

        .back-btn {
            margin-top: 10px;
            background: var(--red);
            color: white;
            border: none;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
        }

        /* –ö–∞–∑–∏–Ω–æ –∏–Ω–ø—É—Ç—ã */
        .casino-input {
            width: 90%;
            padding: 10px;
            background: #222;
            border: 1px solid #555;
            color: white;
            margin-bottom: 10px;
        }

        /* –°–æ–æ–±—â–µ–Ω–∏—è */
        .notification {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.8);
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 0.8rem;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            width: 80%;
            text-align: center;
            z-index: 100;
        }

        /* Game Over */
        .game-over {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 200;
        }
        .game-over h1 { color: var(--red); }
        .restart-btn {
            background: var(--green);
            padding: 15px 30px;
            font-size: 1.2rem;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>

    <div class="game-boy">
        <div class="stats-bar">
            <div class="stat-row">
                <span class="money-display" id="money">0 ‚Ç∏</span>
                <span class="debt-display" id="debt">–ö—Ä–µ–¥–∏—Ç: 0 ‚Ç∏</span>
            </div>
            <div style="margin-top: 5px;">
                <div style="display:flex; justify-content:space-between; font-size:0.7rem;"><span>–ì–æ–ª–æ–¥</span><span id="hungerVal">100%</span></div>
                <div class="progress-container"><div class="progress-bar bar-hunger" id="hungerBar"></div></div>
            </div>
            <div style="margin-top: 5px;">
                <div style="display:flex; justify-content:space-between; font-size:0.7rem;"><span>–ñ–∞–∂–¥–∞</span><span id="thirstVal">100%</span></div>
                <div class="progress-container"><div class="progress-bar bar-thirst" id="thirstBar"></div></div>
            </div>
        </div>

        <div class="screen">
            
            <div id="mainMenu" class="sub-screen active">
                <div class="location-title">–ß—Ç–æ –±—É–¥–µ–º –¥–µ–ª–∞—Ç—å?</div>
                <div class="grid-menu">
                    <div class="card" onclick="workAction()">
                        <div class="card-icon">üë∑‚Äç‚ôÇÔ∏è</div>
                        <div class="card-name">–†–∞–±–æ—Ç–∞</div>
                    </div>
                    <div class="card" onclick="openMenu('shopMenu')">
                        <div class="card-icon">üõí</div>
                        <div class="card-name">–ú–∞–≥–∞–∑–∏–Ω</div>
                    </div>
                    <div class="card" onclick="openMenu('casinoMenu')">
                        <div class="card-icon">üé∞</div>
                        <div class="card-name">–ö–∞–∑–∏–Ω–æ</div>
                    </div>
                    <div class="card" onclick="openMenu('bankMenu')">
                        <div class="card-icon">üè¶</div>
                        <div class="card-name">Kaspi Bank</div>
                    </div>
                </div>
                <div style="margin-top: 20px; font-size: 0.8rem; color: #777; text-align: center;">
                    –†–∞–±–æ—Ç–∞ –¥–∞–µ—Ç 1000‚Ç∏<br>–í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ —Å–ª–µ–¥–∏ –∑–∞ –≥–æ–ª–æ–¥–æ–º!
                </div>
            </div>

            <div id="shopMenu" class="sub-screen">
                <div class="location-title">–ú–∞–≥–∞–∑–∏–Ω "–ü—Ä–æ–¥—É–∫—Ç—ã"</div>
                <button class="action-btn" onclick="buyItem('bread')">
                    üçû –•–ª–µ–± (+20 –µ–¥–∞) <span>200 ‚Ç∏</span>
                </button>
                <button class="action-btn" onclick="buyItem('cola')">
                    ü•§ –ö–æ–ª–∞ (+30 –≤–æ–¥–∞) <span>300 ‚Ç∏</span>
                </button>
                <button class="action-btn" onclick="buyItem('doner')">
                    ü•ô –î–æ–Ω–µ—Ä (+50 –µ–¥–∞, +10 –≤–æ–¥–∞) <span>1200 ‚Ç∏</span>
                </button>
                <button class="back-btn" onclick="openMenu('mainMenu')">–ù–∞–∑–∞–¥</button>
            </div>

            <div id="bankMenu" class="sub-screen">
                <div class="location-title">–ë–∞–Ω–∫ (–õ–∏–º–∏—Ç 10.000)</div>
                <div style="text-align:center; margin-bottom:10px; font-size:0.8rem; color:#aaa;">
                    –¢–µ–∫—É—â–∏–π –¥–æ–ª–≥: <span id="bankDebtVal">0</span> ‚Ç∏
                </div>
                <button class="action-btn" onclick="takeLoan()">
                    üí∞ –í–∑—è—Ç—å –∫—Ä–µ–¥–∏—Ç <span>+5000 ‚Ç∏</span>
                </button>
                <button class="action-btn" onclick="repayLoan()">
                    üí∏ –ü–æ–≥–∞—Å–∏—Ç—å –¥–æ–ª–≥ <span>-5000 ‚Ç∏</span>
                </button>
                <button class="back-btn" onclick="openMenu('mainMenu')">–ù–∞–∑–∞–¥</button>
            </div>

            <div id="casinoMenu" class="sub-screen">
                <div class="location-title">–ö–∞–∑–∏–Ω–æ "–†–æ—è–ª—å"</div>
                <input type="number" id="betAmount" class="casino-input" placeholder="–°—É–º–º–∞ —Å—Ç–∞–≤–∫–∏">
                <div style="display:flex; gap:10px;">
                    <button class="action-btn" style="flex:1; background:#e74c3c; justify-content:center;" onclick="gamble('red')">üî¥ –ö—Ä–∞—Å–Ω–æ–µ (x2)</button>
                    <button class="action-btn" style="flex:1; background:#000; justify-content:center;" onclick="gamble('black')">‚ö´ –ß–µ—Ä–Ω–æ–µ (x2)</button>
                </div>
                <button class="back-btn" onclick="openMenu('mainMenu')">–ù–∞–∑–∞–¥</button>
            </div>

        </div>

        <div class="notification" id="notification">–°–æ–æ–±—â–µ–Ω–∏–µ</div>
    </div>

    <div class="game-over" id="gameOverScreen">
        <h1>–¢–´ –ü–û–ì–ò–ë ‚ò†Ô∏è</h1>
        <p id="deathReason" style="color:#fff; margin-bottom: 20px;">–ü—Ä–∏—á–∏–Ω–∞: –ì–æ–ª–æ–¥</p>
        <button class="restart-btn" onclick="location.reload()">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
    </div>

    <script>
        // –ò–≥—Ä–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let money = 2000;
        let hunger = 100;
        let thirst = 100;
        let debt = 0;
        const CREDIT_LIMIT = 10000;
        let isDead = false;

        // UI –≠–ª–µ–º–µ–Ω—Ç—ã
        const elMoney = document.getElementById('money');
        const elDebt = document.getElementById('debt');
        const elHungerBar = document.getElementById('hungerBar');
        const elThirstBar = document.getElementById('thirstBar');
        const elHungerVal = document.getElementById('hungerVal');
        const elThirstVal = document.getElementById('thirstVal');
        const elBankDebt = document.getElementById('bankDebtVal');
        const notif = document.getElementById('notification');

        // –¢–∞–π–º–µ—Ä –∂–∏–∑–Ω–∏ (—Ç—Ä–∞—Ç–∞ —Ä–µ—Å—É—Ä—Å–æ–≤)
        setInterval(() => {
            if (isDead) return;
            
            hunger -= 1; // -1% –≤ —Å–µ–∫—É–Ω–¥—É
            thirst -= 2; // -2% –≤ —Å–µ–∫—É–Ω–¥—É (–≤–æ–¥–∞ —É—Ö–æ–¥–∏—Ç –±—ã—Å—Ç—Ä–µ–µ)

            if (hunger <= 0) die("–¢—ã —É–º–µ—Ä –æ—Ç –≥–æ–ª–æ–¥–∞.");
            if (thirst <= 0) die("–¢—ã —É–º–µ—Ä –æ—Ç –æ–±–µ–∑–≤–æ–∂–∏–≤–∞–Ω–∏—è.");

            updateUI();
        }, 1000);

        function updateUI() {
            elMoney.innerText = money + " ‚Ç∏";
            elDebt.innerText = debt > 0 ? `–ö—Ä–µ–¥–∏—Ç: -${debt} ‚Ç∏` : "";
            elBankDebt.innerText = debt;

            elHungerBar.style.width = hunger + "%";
            elThirstBar.style.width = thirst + "%";
            elHungerVal.innerText = hunger + "%";
            elThirstVal.innerText = thirst + "%";

            // –°–º–µ–Ω–∞ —Ü–≤–µ—Ç–∞ –ø–æ–ª–æ—Å–æ–∫ –µ—Å–ª–∏ –º–∞–ª–æ
            elHungerBar.style.background = hunger < 20 ? "#e74c3c" : "#f1c40f";
            elThirstBar.style.background = thirst < 20 ? "#e74c3c" : "#3498db";
        }

        function showNotif(msg) {
            notif.innerText = msg;
            notif.style.opacity = 1;
            setTimeout(() => { notif.style.opacity = 0; }, 2000);
        }

        // --- –ú–ï–•–ê–ù–ò–ö–ò ---

        function openMenu(id) {
            document.querySelectorAll('.sub-screen').forEach(el => el.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        function workAction() {
            if (isDead) return;
            // –†–∞–±–æ—Ç–∞ –æ—Ç–Ω–∏–º–∞–µ—Ç —Å–∏–ª—ã
            hunger -= 5;
            thirst -= 8;
            money += 1000;
            
            showNotif("–ó–∞—Ä–∞–±–æ—Ç–∞–ª 1000 ‚Ç∏ (—É—Å—Ç–∞–ª)");
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–º–µ—Ä—Ç–∏ –æ—Ç –ø–µ—Ä–µ—É—Ç–æ–º–ª–µ–Ω–∏—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∫–ª–∏–∫–∞
            if (hunger <= 0 || thirst <= 0) updateUI(); // –¢–∞–π–º–µ—Ä –¥–æ–±—å–µ—Ç —á–µ—Ä–µ–∑ —Å–µ–∫—É–Ω–¥—É
            else updateUI();
        }

        function buyItem(item) {
            if (isDead) return;
            let cost = 0;
            let food = 0;
            let water = 0;

            if (item === 'bread') { cost = 200; food = 20; }
            if (item === 'cola') { cost = 300; water = 30; }
            if (item === 'doner') { cost = 1200; food = 50; water = 10; }

            if (money >= cost) {
                money -= cost;
                hunger = Math.min(100, hunger + food);
                thirst = Math.min(100, thirst + water);
                showNotif("–ö—É–ø–ª–µ–Ω–æ!");
                updateUI();
            } else {
                showNotif("–ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –¥–µ–Ω–µ–≥!");
            }
        }

        function takeLoan() {
            if (debt + 5000 > CREDIT_LIMIT) {
                showNotif("–ë–∞–Ω–∫ –æ—Ç–∫–∞–∑–∞–ª! –õ–∏–º–∏—Ç –ø—Ä–µ–≤—ã—à–µ–Ω.");
                return;
            }
            debt += 5000;
            money += 5000;
            showNotif("–ö—Ä–µ–¥–∏—Ç +5000 ‚Ç∏");
            updateUI();
        }

        function repayLoan() {
            if (debt <= 0) {
                showNotif("–£ —Ç–µ–±—è –Ω–µ—Ç –¥–æ–ª–≥–æ–≤!");
                return;
            }
            if (money >= 5000) {
                money -= 5000;
                debt -= 5000;
                showNotif("–î–æ–ª–≥ –ø–æ–≥–∞—à–µ–Ω (-5000 ‚Ç∏)");
                updateUI();
            } else {
                showNotif("–ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –¥–µ–Ω–µ–≥ –¥–ª—è –ø–æ–≥–∞—à–µ–Ω–∏—è!");
            }
        }

        function gamble(color) {
            let bet = parseInt(document.getElementById('betAmount').value);
            if (!bet || bet <= 0) { showNotif("–ù–µ–≤–µ—Ä–Ω–∞—è —Å—Ç–∞–≤–∫–∞!"); return; }
            if (bet > money) { showNotif("–ù–µ—Ç —Å—Ç–æ–ª—å–∫–æ –¥–µ–Ω–µ–≥!"); return; }

            money -= bet;
            
            // –≠–º—É–ª—è—Ü–∏—è —Ä—É–ª–µ—Ç–∫–∏ (—Ä–∞–Ω–¥–æ–º 0 –∏–ª–∏ 1)
            let win = Math.random() < 0.5; // 50% —à–∞–Ω—Å

            if (win) {
                money += bet * 2;
                showNotif(`–ü–û–ë–ï–î–ê! +${bet*2} ‚Ç∏`);
            } else {
                showNotif("–ü—Ä–æ–∏–≥—Ä—ã—à...");
            }
            updateUI();
        }

        function die(reason) {
            isDead = true;
            document.getElementById('deathReason').innerText = reason;
            document.getElementById('gameOverScreen').style.display = 'flex';
        }

        // –°—Ç–∞—Ä—Ç
        updateUI();
    </script>
</body>
</html>
