<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DICE x5: PURE RISK</title>
    <style>
        body {
            background-color: #0f0f0f;
            color: #fff;
            font-family: 'Arial', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
        }

        .container {
            background: #1e1e1e;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 0 30px rgba(0, 255, 127, 0.1);
            text-align: center;
            width: 350px;
            border: 2px solid #333;
        }

        h1 {
            margin: 0 0 20px 0;
            color: #00ff7f;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-size: 1.8rem;
        }

        .balance-box {
            font-size: 1.5rem;
            margin-bottom: 20px;
            padding: 10px;
            background: #2a2a2a;
            border-radius: 10px;
        }

        .balance-val {
            color: #00ff7f;
            font-weight: bold;
        }

        .dice-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
            font-size: 4rem;
            height: 80px;
        }

        .die {
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #fff;
            color: #000;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(255,255,255,0.2);
            transition: transform 0.2s;
        }

        .input-group {
            margin-bottom: 20px;
        }

        input {
            width: 70%;
            padding: 15px;
            font-size: 1.2rem;
            border: 2px solid #444;
            background: #111;
            color: #fff;
            border-radius: 8px;
            text-align: center;
            outline: none;
        }

        input:focus {
            border-color: #00ff7f;
        }

        .buttons {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        button {
            padding: 15px;
            font-size: 1.2rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            text-transform: uppercase;
            transition: 0.1s;
        }

        .btn-roll {
            background: #00ff7f;
            color: #000;
            box-shadow: 0 0 15px rgba(0, 255, 127, 0.4);
        }
        .btn-roll:active { transform: scale(0.95); }
        
        .btn-allin {
            background: #ff3333;
            color: #fff;
            font-size: 0.9rem;
        }
        
        .btn-reset {
            background: #444;
            color: #aaa;
            margin-top: 10px;
            font-size: 0.8rem;
            padding: 10px;
        }

        #status {
            margin-top: 20px;
            height: 20px;
            font-size: 1rem;
            font-weight: bold;
        }

        .win-text { color: #00ff7f; }
        .lose-text { color: #ff3333; }

        /* Анимация тряски */
        @keyframes shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            10% { transform: translate(-1px, -2px) rotate(-1deg); }
            20% { transform: translate(-3px, 0px) rotate(1px); }
            30% { transform: translate(3px, 2px) rotate(0deg); }
            40% { transform: translate(1px, -1px) rotate(1deg); }
            50% { transform: translate(-1px, 2px) rotate(-1deg); }
            60% { transform: translate(-3px, 1px) rotate(0deg); }
            100% { transform: translate(1px, -2px) rotate(-1deg); }
        }
        
        .shaking {
            animation: shake 0.5s;
            animation-iteration-count: infinite;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>High Risk Dice</h1>
        <div class="balance-box">
            Баланс: <span id="balance" class="balance-val">1000</span> $
        </div>

        <div class="dice-container" id="diceBox">
            <div class="die" id="die1">?</div>
            <div class="die" id="die2">?</div>
        </div>

        <div id="status">Сделайте ставку</div>

        <div class="input-group">
            <input type="number" id="bet" placeholder="Сумма ставки" value="100">
        </div>

        <div class="buttons">
            <button class="btn-roll" onclick="roll()">БРОСИТЬ (X5)</button>
            <button class="btn-allin" onclick="allIn()">ВА-БАНК (ALL IN)</button>
            <button class="btn-reset" onclick="resetGame()">Рестарт</button>
        </div>
    </div>

    <script>
        let balance = 1000;
        let isRolling = false;
        const diceChars = ['⚀', '⚁', '⚂', '⚃', '⚄', '⚅']; // Юникод кости

        const elBalance = document.getElementById('balance');
        const elBet = document.getElementById('bet');
        const elStatus = document.getElementById('status');
        const die1 = document.getElementById('die1');
        const die2 = document.getElementById('die2');
        const diceBox = document.getElementById('diceBox');

        function updateUI() {
            elBalance.innerText = balance;
        }

        function allIn() {
            elBet.value = balance;
        }

        function roll() {
            if (isRolling) return;
            
            let bet = parseInt(elBet.value);

            if (isNaN(bet) || bet <= 0) {
                elStatus.innerText = "Введите нормальную сумму!";
                elStatus.className = "lose-text";
                return;
            }

            if (bet > balance) {
                elStatus.innerText = "Не хватает денег!";
                elStatus.className = "lose-text";
                return;
            }

            // Старт игры
            isRolling = true;
            balance -= bet; // Сразу списываем ставку
            updateUI();
            elStatus.innerText = "Кости летят...";
            elStatus.className = "";
            
            // Анимация
            diceBox.classList.add('shaking');
            die1.innerText = '';
            die2.innerText = '';

            setTimeout(() => {
                diceBox.classList.remove('shaking');
                resolveGame(bet);
                isRolling = false;
            }, 600);
        }

        function resolveGame(bet) {
            // ЛОГИКА 50 НА 50
            const isWin = Math.random() >= 0.5;

            let d1, d2;

            if (isWin) {
                // Если победа, показываем "хорошие" кости (сумма > 7)
                d1 = 4 + Math.floor(Math.random() * 3); // 4, 5 или 6
                d2 = 4 + Math.floor(Math.random() * 3); // 4, 5 или 6
                
                let winAmount = bet * 5;
                balance += winAmount;
                
                elStatus.innerHTML = `ПОБЕДА! +${winAmount}$`;
                elStatus.className = "win-text";
            } else {
                // Если проигрыш, показываем "плохие" кости (сумма < 7)
                d1 = 1 + Math.floor(Math.random() * 3); // 1, 2 или 3
                d2 = 1 + Math.floor(Math.random() * 2); // 1 или 2
                
                elStatus.innerHTML = `ПРОИГРЫШ -${bet}$`;
                elStatus.className = "lose-text";
            }

            // Отрисовка кубиков
            die1.innerText = diceChars[d1 - 1];
            die2.innerText = diceChars[d2 - 1];
            
            updateUI();

            if (balance <= 0) {
                elStatus.innerHTML = "ТЫ БАНКРОТ. GAME OVER.";
                elStatus.className = "lose-text";
            }
        }

        function resetGame() {
            balance = 1000;
            elStatus.innerText = "Новая игра";
            elStatus.className = "";
            die1.innerText = "?";
            die2.innerText = "?";
            updateUI();
        }
    </script>
</body>
</html>
